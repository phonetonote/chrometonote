(()=>{"use strict";var e,t={340:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=i(n(294)),c=n(257),d=n(93),f=u(n(950)),s=u(n(799)),h=u(n(697)),b=(e,t)=>(e.forEach((e=>{e.title.length>0&&!e.url&&t.push({title:e.title,id:e.id}),e.children&&(t=t.concat(b(e.children,[])))})),t);t.default=function(){const e=()=>a(this,void 0,void 0,(function*(){const e=yield chrome.bookmarks.getTree(),t=b(e,[]);n(t)})),[t,n]=(0,l.useState)([]),r=e=>a(this,void 0,void 0,(function*(){const t=(yield chrome.bookmarks.getChildren(e.id)).map((e=>(0,d.tabOrBookmarkToMarkdown)(e)));return{body:(0,c.ctnTitle)(`[[ptn bookmark sync]] — ${e.title}`),attachments:t}})),o=t.map((e=>l.default.createElement(h.default,{buttonText:`${e.title}`,key:e.id,bodyFunc:()=>r(e)})));return 0===t.length?l.default.createElement(s.default,{buttonText:"bookmarks",clickEvent:()=>e()}):l.default.createElement(l.default.Fragment,null,l.default.createElement(f.default,{text:"select a folder to sync:"}),o)}},950:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(294)),i=r(n(557)),a=n(802),u=i.default.h2`
  color: ${a.darkGreen};
`;t.default=function({text:e}){return o.default.createElement(u,null,e)}},799:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(294)),i=r(n(557)),a=n(802),u=i.default.button`
  background-color: ${a.darkGreen};
  width: 200px;
  height: 50px;
  font-size: 16px;
  border: none;
  color: ${a.white};
  border-radius: 8px;
  margin: 6px 0;
  cursor: pointer;

  &:hover {
    background-color: ${a.mediumGreen};
  }

  &:disabled,
  &[disabled] {
    background-color: ${a.lightGreen};
    cursor: default;
  }
`;t.default=function({clickEvent:e,isDisabled:t=!1,buttonText:n}){return o.default.createElement(u,{onClick:()=>e(),disabled:t},n)}},697:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=i(n(294)),c=u(n(799));t.default=function({buttonText:e,bodyFunc:t}){const[n,r]=(0,l.useState)("");(0,l.useEffect)((()=>{chrome.storage.sync.get({ptnKey:null},(e=>{r(e.ptnKey)}))}),[]);const o=()=>a(this,void 0,void 0,(function*(){u("syncing");const e=yield t();yield fetch("https://app.phonetonote.com/hooks/chrome/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign(Object.assign({},e),{ptn_key:n}))}),window.setTimeout((()=>{u("complete"),window.setTimeout((()=>{u("ready")}),250)}),250)})),[i,u]=(0,l.useState)("ready");return l.default.createElement(c.default,{clickEvent:()=>o(),isDisabled:"ready"!==i,buttonText:"ready"===i&&e||"syncing"===i&&"⚡️ syncing..."||"complete"===i&&"✅ sync complete"||""})}},313:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(294)),a=n(257),u=n(93),l=o(n(697)),c={currentWindow:{currentWindow:!0},activeTab:{highlighted:!0,currentWindow:!0},allWindows:{}},d={currentWindow:"[[ptn current window sync]]",activeTab:"[[ptn active tab sync]]",allWindows:"[[ptn all windows sync]]"},f={currentWindow:"tabs in current window",activeTab:"current tab",allWindows:"all tabs"};t.default=function({tabButtonType:e}){return i.default.createElement(l.default,{bodyFunc:()=>r(this,void 0,void 0,(function*(){return{body:(0,a.ctnTitle)(d[e]),attachments:yield(t=c[e],r(void 0,void 0,void 0,(function*(){return(yield chrome.tabs.query(t)).filter((e=>e.url)).map((e=>(0,u.tabOrBookmarkToMarkdown)(e)))})))};var t})),buttonText:f[e]})}},802:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.white=t.lightGreen=t.mediumGreen=t.darkGreen=void 0,t.darkGreen="#174e46",t.mediumGreen="#417668",t.lightGreen="#8baba2",t.white="#eafee9"},548:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(294)),i=r(n(935)),a=r(n(340)),u=r(n(313));i.default.render(o.default.createElement(o.default.StrictMode,null,o.default.createElement((()=>o.default.createElement(o.default.Fragment,null,o.default.createElement(u.default,{tabButtonType:"activeTab"}),o.default.createElement(u.default,{tabButtonType:"currentWindow"}),o.default.createElement(u.default,{tabButtonType:"allWindows"}),o.default.createElement(a.default,null))),null)),document.getElementById("root"))},257:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ctnTitle=void 0,t.ctnTitle=e=>`#chrometonote ${e}`},93:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tabOrBookmarkToMarkdown=void 0,t.tabOrBookmarkToMarkdown=e=>{const{title:t,url:n}=e;return t&&n&&t.length>0&&n.length>0?`[${t}](${n})`:`${n}`}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,o,i]=e[d],u=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(u=!1,i<a&&(a=i));if(u){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=42,(()=>{var e={42:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,u,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(o in u)r.o(u,o)&&(r.m[o]=u[o]);if(l)var d=l(r)}for(t&&t(n);c<a.length;c++)i=a[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},n=self.webpackChunkchrometonote=self.webpackChunkchrometonote||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[736],(()=>r(548)));o=r.O(o)})();